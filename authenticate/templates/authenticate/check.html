{% extends 'authenticate/base.html'%}
{% load static%}
{% block content%}



<form method="POST" enctype="multipart/form-data" action='checkCourse'>
    <h1 class="form-header "> Association Mining</h1>

     <!-- Button trigger modal -->
    <button style="color: rgb(2, 117, 216); font-weight:bold; text-align:center" type="button" class="btn btn-link mb-3" data-toggle="modal" data-target="#tempDownload">CLICK HERE TO VIEW FILE UPLOAD REQUIREMENTS</button> <br>

    <!-- Modal -->
    <div class="modal fade" id="tempDownload" tabindex="-1" role="dialog" aria-labelledby="tempDownloadTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role='document'>
    <div class="modal-content">
    <div class="modal-header">
    <h5 class="modal-title" id="exampleModalLongTitle">Rules for File Upload</h5>
    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
        <span aria-hidden="true">&times;</span>
    </button>
    </div>

    <div class="modal-body">
    <ul>
        <li>Re-upload the file as a csv file</li>
        <li>Column names should be the course code</li>
        <li>Fill in each row in this format 'coursecode_grade' e.g <br> 'CSC111_A'</li>
    </ul>
    </div>
    <div class="modal-footer">
    <a href="{% static 'association_sample.csv '%}" type="button" class="btn btn-primary">Download Sample</a>
    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>

    </div>
    </div>
    </div>
    </div>

    {% csrf_token %}
    <input type="file" class="mt-4 mb-3 upload-box" name="documents" required='required'>


    <div class="col-md-4 col-sm-4">
        <label for="course1">Course 1:</label>
    </div> <input name="course1" type="text" placeholder="e.g: CSC111_A" required='required' class="form-control upload-text"><br><br>

    <div class="col-md-4 col-sm-4">
        <label for="course2">Course 2:</label>
    </div> 

    <input name="course2" type="text" placeholder="e.g: CSC111_A" required='required' class="form-control upload-text"><br><br>

    <button type="submit" class="btn1 mb-3" data-toggle="modal" data-target="#exampleModalCenter"> Submit </button>
    
 <!-- Button trigger modal -->
 {% if predict %}
<button type="button" class="btn1 mb-3" data-toggle="modal" data-target="#exampleModalCenter"> View Result </button>
  
  <!-- Modal -->
  <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role='document'>
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLongTitle">Analysis Result</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <p>{{results}}</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          
        </div>
      </div>
    </div>
  </div>
</div>
{% endif %}

    {% block messages %}
    {%if messages %}
    <div class="container" style="color: firebrick; margin-top: -20px">
        {% for message in messages %}
            {{message}}
        {% endfor %}
    </div>
    {% endif %}
    {%endblock%}

</form>






{%endblock%}